import{j as e}from"./jsx-runtime.391947bd.js";import{a as f,T as g}from"./jwt.1b92699e.js";import{r as s}from"./index.ed373d49.js";import{h}from"./http.64a7434f.js";function j(){const[t,u]=s.useState(""),[o,c]=s.useState(""),[a,n]=s.useState(""),[l,i]=s.useState(!1),p=async r=>{r.preventDefault(),i(!0),n("");const{response:d,error:m}=await h("https://api.roadmap.sh/v1-login",{email:t,password:o});if(d?.token){f.set(g,d.token,{path:"/",expires:30,domain:".roadmap.sh"}),window.location.reload();return}if(m.type==="user_not_verified"){window.location.href=`/verification-pending?email=${encodeURIComponent(t)}`;return}i(!1),n(m?.message||"Something went wrong. Please try again later.")};return e.jsxs("form",{className:"w-full",onSubmit:p,children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"Email Address",value:t,onInput:r=>u(String(r.target.value))}),e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{name:"password",type:"password",autoComplete:"current-password",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"Password",value:o,onInput:r=>c(String(r.target.value))}),e.jsx("p",{className:"mb-3 mt-2 text-sm text-gray-500",children:e.jsx("a",{href:"/forgot-password",className:"text-blue-800 hover:text-blue-600",children:"Reset your password?"})}),a&&e.jsx("p",{className:"mb-2 rounded-md bg-red-100 p-2 text-red-800",children:a}),e.jsx("button",{type:"submit",disabled:l,className:"inline-flex w-full items-center justify-center rounded-lg bg-black p-2 py-3 text-sm font-medium text-white outline-none focus:ring-2 focus:ring-black focus:ring-offset-1 disabled:bg-gray-400",children:l?"Please wait...":"Continue"})]})}export{j as EmailLoginForm};
